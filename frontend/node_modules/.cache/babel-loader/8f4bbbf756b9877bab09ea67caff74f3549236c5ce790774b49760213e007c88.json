{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrim\\\\OneDrive\\\\Desktop\\\\MERN PROJECT\\\\frontend\\\\src\\\\component\\\\Route\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\n// import React from \"react\";\n// import { Navigate, Outlet } from \"react-router-dom\";\n\n// const ProtectedRoute = ({\n//   isAuthenticated,\n//   children,\n//   adminRoute,\n//   isAdmin,\n//   redirect = \"/login\",\n//   redirectAdmin = \"/profile\",\n// }) => {\n//   if (!isAuthenticated) {\n//     return <Navigate to={redirect} />;\n//   }\n\n//   if (adminRoute && !isAdmin) {\n//     return <Navigate to={redirectAdmin} />;\n//   }\n\n//   return children ? children : <Outlet />;\n// };\n\n// export default ProtectedRoute;\n// <Fragment>\n//   {loading === false && (\n//     <Route\n//       {...rest}\n//       render={(props) => {\n//         if (isAuthenticated === false) {\n//           return <Navigate to=\"/login\" />;\n//         }\n\n//         if (isAdmin === true && user.role !== \"admin\") {\n//           return <Navigate to=\"/login\" />;\n//         }\n\n//         return <Component {...props} />;\n//       }}\n//     />\n//   )}\n// </Fragment>\n\nimport React from \"react\";\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = _ref => {\n  _s();\n  let {\n    children,\n    isAdmin\n  } = _ref;\n  const {\n    isAuthenticated,\n    user\n  } = useSelector(state => state.user);\n  // const redirectAdmin = \"/profile\"\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }, this);\n  }\n  if (user.role !== \"admin\" && isAdmin) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 14\n    }, this);\n  }\n  return children ? children : /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 34\n  }, this);\n};\n_s(ProtectedRoute, \"e49rJmxO6FRsRBfB7SAF3i+JcAg=\", false, function () {\n  return [useSelector];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","Outlet","useSelector","jsxDEV","_jsxDEV","ProtectedRoute","_ref","_s","children","isAdmin","isAuthenticated","user","state","to","fileName","_jsxFileName","lineNumber","columnNumber","role","_c","$RefreshReg$"],"sources":["C:/Users/shrim/OneDrive/Desktop/MERN PROJECT/frontend/src/component/Route/ProtectedRoute.js"],"sourcesContent":["// import React from \"react\";\r\n// import { Navigate, Outlet } from \"react-router-dom\";\r\n\r\n// const ProtectedRoute = ({\r\n//   isAuthenticated,\r\n//   children,\r\n//   adminRoute,\r\n//   isAdmin,\r\n//   redirect = \"/login\",\r\n//   redirectAdmin = \"/profile\",\r\n// }) => {\r\n//   if (!isAuthenticated) {\r\n//     return <Navigate to={redirect} />;\r\n//   }\r\n\r\n//   if (adminRoute && !isAdmin) {\r\n//     return <Navigate to={redirectAdmin} />;\r\n//   }\r\n\r\n//   return children ? children : <Outlet />;\r\n// };\r\n\r\n// export default ProtectedRoute;\r\n    // <Fragment>\r\n    //   {loading === false && (\r\n    //     <Route\r\n    //       {...rest}\r\n    //       render={(props) => {\r\n    //         if (isAuthenticated === false) {\r\n    //           return <Navigate to=\"/login\" />;\r\n    //         }\r\n\r\n    //         if (isAdmin === true && user.role !== \"admin\") {\r\n    //           return <Navigate to=\"/login\" />;\r\n    //         }\r\n\r\n    //         return <Component {...props} />;\r\n    //       }}\r\n    //     />\r\n    //   )}\r\n    // </Fragment>\r\n\r\n      import React from \"react\";\r\n  import { Navigate, Outlet } from \"react-router-dom\";\r\n  import { useSelector } from \"react-redux\";\r\n\r\n  const ProtectedRoute = ({\r\n    \r\n    children,\r\n\r\n    isAdmin,\r\n\r\n  }) => {\r\n    const {  isAuthenticated, user } = useSelector((state) => state.user);\r\n    // const redirectAdmin = \"/profile\"\r\n    if (!isAuthenticated) {\r\n      return <Navigate to=\"/login\"/>;\r\n    }\r\n\r\n    if (user.role!==\"admin\" && isAdmin) {\r\n      return <Navigate to=\"/account\"/>;\r\n    }\r\n\r\n    return children ? children : <Outlet />;\r\n  };\r\n\r\n  export default ProtectedRoute;"],"mappings":";;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEE,OAAOA,KAAK,MAAM,OAAO;AAC7B,SAASC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AACnD,SAASC,WAAW,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,cAAc,GAAGC,IAAA,IAMjB;EAAAC,EAAA;EAAA,IANkB;IAEtBC,QAAQ;IAERC;EAEF,CAAC,GAAAH,IAAA;EACC,MAAM;IAAGI,eAAe;IAAEC;EAAK,CAAC,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACD,IAAI,CAAC;EACrE;EACA,IAAI,CAACD,eAAe,EAAE;IACpB,oBAAON,OAAA,CAACJ,QAAQ;MAACa,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAChC;EAEA,IAAIN,IAAI,CAACO,IAAI,KAAG,OAAO,IAAIT,OAAO,EAAE;IAClC,oBAAOL,OAAA,CAACJ,QAAQ;MAACa,EAAE,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAClC;EAEA,OAAOT,QAAQ,GAAGA,QAAQ,gBAAGJ,OAAA,CAACH,MAAM;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACzC,CAAC;AAACV,EAAA,CAlBIF,cAAc;EAAA,QAOiBH,WAAW;AAAA;AAAAiB,EAAA,GAP1Cd,cAAc;AAoBpB,eAAeA,cAAc;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}